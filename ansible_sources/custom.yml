---
- include_vars: vars.yml

- name: Create completions folder
  file: path={{ home }}/.zsh/completions state=directory

- name: Copy dotfiles
  copy:
    src: "dotfiles/.{{ item }}"
    dest: "{{ home }}/.{{ item }}"
    owner: "{{ username }}"
    group: "{{ username }}"
  with_items: "{{ dotfiles }}"

- name: Remove tempory APT files
  command: rm /etc/apt/sources.list.d/dl_google_com_linux_chrome_deb.list
- name: Install Vscode extensions
  command: code --install-extension {{item}}
  with_items: "{{ vscode_extensions }}"
  become: yes
  become_user: "{{ username }}"

- name: Download file from a file path
  get_url:
    url: https://raw.githubusercontent.com/Yubico/libu2f-host/master/70-u2f.rules
    dest: /etc/udev/rules.d/70-u2f.rules